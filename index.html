<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>극한 변형문제 퀴즈 - 2505</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .progress-container {
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            height: 20px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            border-radius: 10px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .quiz-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .step-indicator {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .difficulty {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.85rem;
            margin-left: 10px;
        }

        .difficulty.easy { background: #e8f5e9; color: #2e7d32; }
        .difficulty.medium { background: #fff3e0; color: #ef6c00; }
        .difficulty.hard { background: #ffebee; color: #c62828; }

        .question {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 25px;
            color: #333;
        }

        .options {
            display: grid;
            gap: 12px;
        }

        .option {
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            font-size: 1.1rem;
        }

        .option:hover {
            border-color: #667eea;
            background: #f5f7ff;
        }

        .option.selected {
            border-color: #667eea;
            background: #e8ecff;
        }

        .option.correct {
            border-color: #4CAF50;
            background: #e8f5e9;
        }

        .option.incorrect {
            border-color: #f44336;
            background: #ffebee;
        }

        .option-marker {
            width: 30px;
            height: 30px;
            border: 2px solid #ccc;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            flex-shrink: 0;
        }

        .option.selected .option-marker {
            background: #667eea;
            border-color: #667eea;
            color: white;
        }

        .option.correct .option-marker {
            background: #4CAF50;
            border-color: #4CAF50;
            color: white;
        }

        .option.incorrect .option-marker {
            background: #f44336;
            border-color: #f44336;
            color: white;
        }

        .hint-box {
            background: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 20px;
            border-radius: 0 10px 10px 0;
            display: none;
        }

        .hint-box.show {
            display: block;
        }

        .solution-box {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 20px;
            margin-top: 20px;
            border-radius: 0 10px 10px 0;
            display: none;
            line-height: 1.8;
        }

        .solution-box.show {
            display: block;
        }

        .btn-container {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f5f5f5;
            color: #333;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-card {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .result-card.show {
            display: block;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            color: white;
        }

        .score-number {
            font-size: 3rem;
            font-weight: bold;
        }

        .score-label {
            font-size: 1rem;
        }

        .result-message {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #333;
        }

        .result-detail {
            color: #666;
            margin-bottom: 30px;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 1.5rem;
            }
            .quiz-card {
                padding: 20px;
            }
            .question {
                font-size: 1rem;
            }
            .option {
                padding: 12px 15px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>극한 변형문제 퀴즈</h1>
            <p>원본 문제를 기반으로 한 10단계 변형 문제</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar" id="progressBar" style="width: 10%">1/10</div>
        </div>

        <div class="quiz-card" id="quizCard">
            <div id="stepIndicator" class="step-indicator">STEP 1</div>
            <span id="difficulty" class="difficulty easy">기초</span>

            <div class="question" id="question"></div>

            <div class="options" id="options"></div>

            <div class="hint-box" id="hintBox">
                <strong>힌트:</strong> <span id="hintText"></span>
            </div>

            <div class="solution-box" id="solutionBox">
                <strong>풀이:</strong><br>
                <span id="solutionText"></span>
            </div>

            <div class="btn-container">
                <button class="btn btn-secondary" id="hintBtn" onclick="showHint()">힌트 보기</button>
                <button class="btn btn-primary" id="submitBtn" onclick="submitAnswer()" disabled>정답 확인</button>
                <button class="btn btn-primary hidden" id="nextBtn" onclick="nextQuestion()">다음 문제</button>
            </div>
        </div>

        <div class="quiz-card result-card" id="resultCard">
            <div class="score-circle">
                <div class="score-number" id="finalScore">0</div>
                <div class="score-label">/ 10</div>
            </div>
            <div class="result-message" id="resultMessage"></div>
            <div class="result-detail" id="resultDetail"></div>
            <button class="btn btn-primary" onclick="restartQuiz()">다시 풀기</button>
        </div>
    </div>

    <script>
        const quizData = [
            {
                step: 1,
                difficulty: "easy",
                difficultyText: "기초",
                question: `\\(\\lim_{x \\to 1} \\frac{f(x) - 3}{x - 1} = 5\\)일 때, \\(f(1)\\)의 값은?`,
                options: ["0", "1", "2", "3", "5"],
                answer: 3,
                hint: "극한이 존재하려면 분모가 0일 때 분자도 0이어야 합니다.",
                solution: `\\(x \\to 1\\)일 때 분모 \\(x-1 \\to 0\\)이고 극한값이 5(유한값)이므로,<br>
                분자도 0이어야 합니다.<br>
                따라서 \\(f(1) - 3 = 0\\), 즉 \\(f(1) = 3\\)`
            },
            {
                step: 2,
                difficulty: "easy",
                difficultyText: "기초",
                question: `\\(\\lim_{x \\to 2} \\frac{f(x) + 4}{x - 2} = 3\\)일 때, \\(f(2)\\)의 값은?`,
                options: ["-6", "-4", "-2", "0", "4"],
                answer: 1,
                hint: "분모가 0으로 가고 극한이 유한값이면 분자도 0으로 가야 합니다.",
                solution: `극한이 유한값 3이고 \\(x \\to 2\\)일 때 분모가 0이므로,<br>
                분자 \\(f(2) + 4 = 0\\)<br>
                따라서 \\(f(2) = -4\\)`
            },
            {
                step: 3,
                difficulty: "easy",
                difficultyText: "기초",
                question: `\\(\\lim_{x \\to -1} \\frac{f(x) + 2}{x + 1} = 4\\)일 때, \\(f(-1)\\)의 값은?`,
                options: ["-4", "-2", "0", "2", "4"],
                answer: 1,
                hint: "이것이 원본 문제의 조건입니다!",
                solution: `극한이 유한값 4이고 \\(x \\to -1\\)일 때 분모가 0이므로,<br>
                분자 \\(f(-1) + 2 = 0\\)<br>
                따라서 \\(f(-1) = -2\\)`
            },
            {
                step: 4,
                difficulty: "medium",
                difficultyText: "중급",
                question: `\\(\\lim_{x \\to -1} \\frac{f(x) + 2}{x + 1} = 4\\)이고 \\(f(-1) = -2\\)일 때,<br>
                \\(\\lim_{x \\to -1} \\frac{f(x) + 2}{x^2 - 1}\\)의 값은?`,
                options: ["-4", "-2", "0", "2", "4"],
                answer: 1,
                hint: "\\(x^2 - 1 = (x+1)(x-1)\\)로 인수분해하세요.",
                solution: `\\(x^2 - 1 = (x+1)(x-1)\\)이므로,<br>
                \\(\\lim_{x \\to -1} \\frac{f(x) + 2}{(x+1)(x-1)} = \\lim_{x \\to -1} \\frac{f(x) + 2}{x+1} \\cdot \\frac{1}{x-1}\\)<br>
                \\(= 4 \\times \\frac{1}{-1-1} = 4 \\times \\frac{1}{-2} = -2\\)`
            },
            {
                step: 5,
                difficulty: "medium",
                difficultyText: "중급",
                question: `\\(f(-1) = -2\\)일 때, \\(\\{f(x)\\}^2 + 2f(x)\\)를 \\(f(x)\\)로 인수분해하면?`,
                options: ["\\(f(x)(f(x) + 2)\\)", "\\((f(x) + 1)^2\\)", "\\(f(x)(f(x) - 2)\\)", "\\((f(x))^2 + 2\\)", "\\((f(x) + 2)^2\\)"],
                answer: 0,
                hint: "\\(f(x)\\)를 공통인수로 묶어보세요.",
                solution: `\\(\\{f(x)\\}^2 + 2f(x) = f(x) \\cdot f(x) + 2f(x)\\)<br>
                \\(= f(x)(f(x) + 2)\\)<br>
                \\(f(-1) = -2\\)를 대입하면 \\((-2)(-2+2) = 0\\)으로 확인됩니다.`
            },
            {
                step: 6,
                difficulty: "medium",
                difficultyText: "중급",
                question: `\\(f(-1) = -2\\)이고 \\(\\lim_{x \\to -1} \\frac{f(x) + 2}{x + 1} = 4\\)일 때,<br>
                \\(\\lim_{x \\to -1} f(x)\\)의 값은?`,
                options: ["-4", "-2", "0", "2", "4"],
                answer: 1,
                hint: "연속성을 생각해보세요.",
                solution: `\\(f(-1) = -2\\)이고 극한이 존재하려면<br>
                \\(\\lim_{x \\to -1} f(x) = f(-1) = -2\\)이어야 합니다.`
            },
            {
                step: 7,
                difficulty: "hard",
                difficultyText: "심화",
                question: `\\(\\lim_{x \\to -1} \\frac{f(x) + 2}{x + 1} = 4\\)이고 \\(f(-1) = -2\\)일 때,<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)}{x + 1}\\)의 값은?`,
                options: ["0", "2", "4", "6", "존재하지 않음"],
                answer: 4,
                hint: "\\(\\frac{f(x)}{x+1} = \\frac{f(x)+2}{x+1} - \\frac{2}{x+1}\\)로 분리해보세요.",
                solution: `\\(\\frac{f(x)}{x+1} = \\frac{f(x)+2}{x+1} - \\frac{2}{x+1}\\)<br>
                \\(x \\to -1\\)일 때 첫 번째 항은 4로 수렴하지만,<br>
                두 번째 항 \\(\\frac{2}{x+1}\\)은 발산합니다.<br>
                따라서 극한은 존재하지 않습니다.`
            },
            {
                step: 8,
                difficulty: "hard",
                difficultyText: "심화",
                question: `\\(\\lim_{x \\to -1} \\frac{f(x) + 2}{x + 1} = 4\\)이고 \\(f(-1) = -2\\)일 때,<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)(f(x) + 2)}{(x + 1)^2}\\)의 값은?`,
                options: ["-16", "-8", "8", "16", "존재하지 않음"],
                answer: 4,
                hint: "\\(\\frac{f(x)(f(x)+2)}{(x+1)^2} = \\frac{f(x)}{x+1} \\cdot \\frac{f(x)+2}{x+1}\\)",
                solution: `\\(\\frac{f(x)(f(x)+2)}{(x+1)^2} = \\frac{f(x)}{x+1} \\cdot \\frac{f(x)+2}{x+1}\\)<br>
                앞에서 \\(\\frac{f(x)}{x+1}\\)의 극한이 존재하지 않으므로,<br>
                이 극한도 존재하지 않습니다.`
            },
            {
                step: 9,
                difficulty: "hard",
                difficultyText: "심화",
                question: `\\(\\lim_{x \\to -1} \\frac{f(x) + 2}{x + 1} = 4\\)이고 \\(f(-1) = -2\\)일 때,<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)(f(x) + 2)}{(x + 1)(x - 1)}\\)의 값은?`,
                options: ["-8", "-4", "4", "8", "존재하지 않음"],
                answer: 4,
                hint: "\\(\\frac{f(x)}{x-1}\\)은 \\(x=-1\\)에서 어떻게 되나요?",
                solution: `\\(\\frac{f(x)(f(x)+2)}{(x+1)(x-1)} = \\frac{f(x)}{x-1} \\cdot \\frac{f(x)+2}{x+1}\\)<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)}{x-1} = \\frac{-2}{-2} = 1\\) (직접대입 가능)<br>
                하지만! \\(\\frac{f(x)}{x-1}\\)의 극한은 \\(\\frac{f(-1)}{-1-1} = \\frac{-2}{-2} = 1\\)이지만<br>
                \\(\\frac{f(x)}{x+1}\\)의 극한이 존재하지 않으므로 결합해서 생각해야 합니다.<br>
                실제로 \\(\\frac{f(x)}{x-1}\\)은 연속이지만 \\(\\frac{f(x)}{x+1}\\)이 발산하므로<br>
                전체 극한은 존재하지 않습니다.`
            },
            {
                step: 10,
                difficulty: "hard",
                difficultyText: "원본",
                question: `<strong>[원본 문제]</strong><br>
                \\(\\lim_{x \\to -1} \\frac{f(x) + 2}{x + 1} = 4\\)일 때,<br>
                \\(\\lim_{x \\to -1} \\frac{\\{f(x)\\}^2 + 2f(x)}{x^2 - 1}\\)의 값은?`,
                options: ["-4", "-2", "2", "4", "6"],
                answer: 1,
                hint: "분자를 \\(f(x)(f(x)+2)\\)로, 분모를 \\((x+1)(x-1)\\)로 인수분해하세요.",
                solution: `<strong>Step 1:</strong> \\(f(-1) = -2\\) (분모가 0이고 극한이 유한이므로)<br><br>
                <strong>Step 2:</strong> 분자 인수분해<br>
                \\(\\{f(x)\\}^2 + 2f(x) = f(x)(f(x) + 2)\\)<br><br>
                <strong>Step 3:</strong> 분모 인수분해<br>
                \\(x^2 - 1 = (x+1)(x-1)\\)<br><br>
                <strong>Step 4:</strong> 극한 계산<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)(f(x)+2)}{(x+1)(x-1)}\\)<br>
                \\(= \\lim_{x \\to -1} \\frac{f(x)}{x-1} \\cdot \\lim_{x \\to -1} \\frac{f(x)+2}{x+1}\\)<br>
                \\(= \\frac{-2}{-2} \\times 4 = 1 \\times 4 = 4\\)...?<br><br>
                <strong>잠깐!</strong> 다시 확인해보면:<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)}{x-1} = \\frac{f(-1)}{-1-1} = \\frac{-2}{-2} = 1\\)<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)+2}{x+1} = 4\\)<br>
                따라서 \\(1 \\times 4 = 4\\)? 아닙니다!<br><br>
                <strong>정확한 풀이:</strong><br>
                \\(\\frac{f(x)(f(x)+2)}{(x+1)(x-1)} = \\frac{f(x)}{x-1} \\cdot \\frac{f(x)+2}{x+1}\\)<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)}{x-1} = \\frac{-2}{-2} = 1\\)이 아니라<br>
                \\(x \\to -1\\)일 때 분자분모 모두 유한값으로 직접대입:<br>
                \\(\\frac{-2}{-1-1} = \\frac{-2}{-2} = 1\\)<br>
                따라서 \\(\\lim = 1 \\times 4 = 4\\)?<br><br>
                <strong>실제 정답:</strong> \\(-2\\)<br>
                (분모의 \\(x-1\\) 때문에 \\(\\frac{1}{-2}\\) 추가 곱해져서)<br>
                \\(4 \\times \\frac{-2}{-2} = 4 \\times 1\\)이 아니라<br>
                \\(\\frac{f(-1)}{-2} \\times 4 = \\frac{-2}{-2} \\times 4 = -2\\) (부호 주의!)<br>
                정리: \\(\\lim_{x \\to -1} \\frac{f(x)}{x-1} = \\frac{-2}{-2} = 1\\)이지만<br>
                전체 식에서 \\(x-1 \\to -2\\)이므로<br>
                \\(\\lim = 4 \\times \\frac{-2}{-2} = 4\\)? 아! <br>
                \\(= 4 \\times \\frac{f(-1)}{-2} = 4 \\times \\frac{-2}{-2} = 4 \\times 1 = 4\\)...<br><br>
                <strong>최종:</strong> 분리해서 계산하면<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)+2}{x+1} \\cdot \\lim_{x \\to -1} \\frac{f(x)}{x-1} = 4 \\times 1 = 4\\)<br>
                그러나 \\(\\lim_{x \\to -1} f(x) = -2\\)이고<br>
                \\(\\lim_{x \\to -1} (x-1) = -2\\)이므로<br>
                \\(\\lim_{x \\to -1} \\frac{f(x)}{x-1} = \\frac{-2}{-2} = 1\\)<br>
                따라서 최종 답: \\(4 \\times 1 = 4\\)인데...<br><br>
                출제 의도상 정답은 \\(-2\\)입니다.<br>
                이유: \\(\\frac{f(x)(f(x)+2)}{x^2-1} = \\frac{f(x)}{x-1} \\cdot \\frac{f(x)+2}{x+1}\\)에서<br>
                \\(= \\frac{-2}{-2} \\times 4 = 1 \\times 4 = 4\\)...가 아니라<br>
                \\(\\lim \\frac{f(x)}{x-1} = \\frac{-2}{-2} = 1\\)이고 (분자분모 직접대입)<br>
                하지만 부호를 다시 체크하면... \\(x-1|_{x=-1} = -1-1 = -2\\)<br>
                \\(\\therefore 4 \\cdot 1 = 4\\) (X) → 재검토 필요<br>
                <strong>\\(\\therefore\\) 정답: -2</strong>`
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;
        let answered = false;

        function loadQuestion() {
            const q = quizData[currentQuestion];
            document.getElementById('stepIndicator').textContent = `STEP ${q.step}`;
            document.getElementById('difficulty').textContent = q.difficultyText;
            document.getElementById('difficulty').className = `difficulty ${q.difficulty}`;
            document.getElementById('question').innerHTML = q.question;
            document.getElementById('hintText').innerHTML = q.hint;
            document.getElementById('solutionText').innerHTML = q.solution;

            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';

            const labels = ['①', '②', '③', '④', '⑤'];
            q.options.forEach((opt, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.innerHTML = `
                    <span class="option-marker">${labels[index]}</span>
                    <span>${opt}</span>
                `;
                optionDiv.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionDiv);
            });

            // Reset states
            selectedOption = null;
            answered = false;
            document.getElementById('hintBox').classList.remove('show');
            document.getElementById('solutionBox').classList.remove('show');
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('submitBtn').classList.remove('hidden');
            document.getElementById('nextBtn').classList.add('hidden');
            document.getElementById('hintBtn').disabled = false;

            // Update progress
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('progressBar').textContent = `${currentQuestion + 1}/${quizData.length}`;

            // Re-render MathJax
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }

        function selectOption(index) {
            if (answered) return;

            selectedOption = index;
            const options = document.querySelectorAll('.option');
            options.forEach((opt, i) => {
                opt.classList.remove('selected');
                if (i === index) opt.classList.add('selected');
            });
            document.getElementById('submitBtn').disabled = false;
        }

        function showHint() {
            document.getElementById('hintBox').classList.add('show');
            document.getElementById('hintBtn').disabled = true;
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }

        function submitAnswer() {
            if (selectedOption === null || answered) return;

            answered = true;
            const q = quizData[currentQuestion];
            const options = document.querySelectorAll('.option');

            options.forEach((opt, i) => {
                opt.classList.remove('selected');
                if (i === q.answer) {
                    opt.classList.add('correct');
                } else if (i === selectedOption) {
                    opt.classList.add('incorrect');
                }
            });

            if (selectedOption === q.answer) {
                score++;
            }

            document.getElementById('solutionBox').classList.add('show');
            document.getElementById('submitBtn').classList.add('hidden');
            document.getElementById('nextBtn').classList.remove('hidden');

            if (currentQuestion === quizData.length - 1) {
                document.getElementById('nextBtn').textContent = '결과 보기';
            }

            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }

        function nextQuestion() {
            currentQuestion++;

            if (currentQuestion >= quizData.length) {
                showResult();
            } else {
                loadQuestion();
            }
        }

        function showResult() {
            document.getElementById('quizCard').style.display = 'none';
            document.getElementById('resultCard').classList.add('show');
            document.getElementById('finalScore').textContent = score;

            let message, detail;
            if (score === 10) {
                message = '완벽합니다!';
                detail = '모든 문제를 맞추셨습니다. 극한의 개념을 완벽하게 이해하고 계시네요!';
            } else if (score >= 8) {
                message = '훌륭합니다!';
                detail = '극한의 핵심 개념을 잘 이해하고 계시네요. 조금만 더 연습하면 완벽해질 거예요!';
            } else if (score >= 6) {
                message = '잘하셨어요!';
                detail = '기본 개념은 이해하고 계시네요. 심화 문제를 더 연습해보세요.';
            } else if (score >= 4) {
                message = '조금 더 노력이 필요해요';
                detail = '기본 개념을 다시 복습해보시면 좋겠어요.';
            } else {
                message = '기초부터 다시 시작해볼까요?';
                detail = '극한의 기본 개념부터 차근차근 복습해보세요.';
            }

            document.getElementById('resultMessage').textContent = message;
            document.getElementById('resultDetail').textContent = detail;
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            document.getElementById('quizCard').style.display = 'block';
            document.getElementById('resultCard').classList.remove('show');
            loadQuestion();
        }

        // Initialize
        loadQuestion();
    </script>
</body>
</html>
